<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title></title>
    <link rel="stylesheet" href="css/fishGame2.css">
    <script>
        let count;
        let playing;

        document.addEventListener("DOMContentLoaded", function(){
            initEvent();
            moveIfPlaying();
        });

        function initEvent(){
            let score = document.querySelector("#score");
            count = 0;
            playing = false;

            document.querySelector("#start").addEventListener("click", function(){
                if(!playing){
                    count = 0;
                    score.innerHTML = count;
                    playing = true;
                    setTimeout(function(){
                        playing=false;
                        alert("게임이 종료 되었습니다.")
                    },5000);
                }
            })

            document.querySelector("#fish").addEventListener("click", function(){
                if(playing==true){
                    count++;
                    score.innerHTML = count;
                }
            });
        }

        function moveIfPlaying(){
            setInterval(function(){
                if(playing){
                    let x = Math.floor(Math.random() * 480);
                    let y = Math.floor(Math.random() * 330);
                    document.querySelector("#fish").style.left = x + "px";
                    document.querySelector("#fish").style.top = y + "px";
                }
            }, 800);
        }
    </script>
</head> 

<body>
    <div>
        <button id="start">게임 시작</button>
        현재점수 <span id="score">0</span>
    </div>   
    
    <div class="panel">
        <img src="img/fish1.png" id="fish">      
    </div>
</body>
</html>


